<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Search | PrimeDealer</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="split-view">

  <!-- LISTINGS -->
  <div class="p-4 overflow-auto">
    <h5>200+ stays found</h5>
<div class="mb-4">

  <div class="row g-3">
    
    <!-- Name -->
    <div class="col-md-4">
      <input type="text" id="searchName" class="form-control"
             placeholder="Search by property name">
    </div>

    <!-- Price -->
    <div class="col-md-3">
      <input type="number" id="searchPrice" class="form-control"
             placeholder="Max price">
    </div>

    <!-- Status -->
    <div class="col-md-3">
      <select id="searchStatus" class="form-select">
        <option value="">Any status</option>
        <option value="rent">For Rent</option>
        <option value="sale">For Sale</option>
      </select>
    </div>

  </div>

</div>

    <div class="listings-grid mt-3">

<a href="property.html"
   class="property-link text-decoration-none text-dark"
   data-name="Modern Apartment"
   data-price="95"
   data-status="rent"
   data-category="apartment">

  <div class="property-card">
    <img src="house1.jpg">
    <div class="property-info">
      <div class="d-flex justify-content-between">
        <span><i class="bi bi-geo-alt"></i> Masaki</span>
        <span><i class="bi bi-star-fill text-warning"></i> 4.8</span>
      </div>
      <div class="property-title">Modern Apartment</div>
      <div class="property-price">$95 / night</div>
    </div>
  </div>

</a>



  <!-- MAP -->
  <div class="map-area">
    <iframe 
      src="https://www.google.com/maps?q=Dar+es+Salaam&output=embed">
    </iframe>
  </div>

</div>

<script>
const params = new URLSearchParams(window.location.search);
const categoryParam = params.get('category');

function filterProperties() {
  const nameValue = nameInput.value.toLowerCase();
  const priceValue = priceInput.value;
  const statusValue = statusInput.value;

  cards.forEach(card => {
    const name = card.dataset.name.toLowerCase();
    const price = parseInt(card.dataset.price);
    const status = card.dataset.status;
    const category = card.dataset.category;

    let visible = true;

    if (nameValue && !name.includes(nameValue)) visible = false;
    if (priceValue && price > priceValue) visible = false;
    if (statusValue && status !== statusValue) visible = false;

    // âœ… CATEGORY FILTER
    if (categoryParam && category !== categoryParam) visible = false;

    card.style.display = visible ? 'block' : 'none';
  });
}



// Trigger filter after setting values
filterProperties();
</script>
<script>



  

const nameInput = document.getElementById('searchName');
const priceInput = document.getElementById('searchPrice');
const statusInput = document.getElementById('searchStatus');
const cards = document.querySelectorAll('.property-link');

function filterProperties() {
  const nameValue = nameInput.value.toLowerCase();
  const priceValue = priceInput.value;
  const statusValue = statusInput.value;

  cards.forEach(card => {
    const name = card.dataset.name.toLowerCase();
    const price = parseInt(card.dataset.price);
    const status = card.dataset.status;

    let visible = true;

    if (nameValue && !name.includes(nameValue)) visible = false;
    if (priceValue && price > priceValue) visible = false;
    if (statusValue && status !== statusValue) visible = false;

    card.style.display = visible ? 'block' : 'none';
  });
}

nameInput.addEventListener('input', filterProperties);
priceInput.addEventListener('input', filterProperties);
statusInput.addEventListener('change', filterProperties);
</script>

</body>
</html>
